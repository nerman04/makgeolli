<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÎßâÍ±∏Î¶¨ log</title>
    <link rel="manifest" href="manifest.json?v=4.1">
    <link rel="stylesheet" href="styles/main.css?v=4.1">
    <meta name="theme-color" content="#1a1a1a">
    <meta name="description" content="ÎÇòÎßåÏùò ÎßâÍ±∏Î¶¨ Í∏∞Î°ùÏû•">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <div id="app">
        <header class="app-header">
            <h1>ÎßâÍ±∏Î¶¨ log <span id="total-count" class="header-badge"></span></h1>
        </header>

        <main id="main-content" class="safe-area">
            <!-- Views will be injected here -->
            <div id="list-view" class="view active">
                <div class="sort-controls">
                    <button class="sort-chip active" data-sort="date">ÏµúÏã†</button>
                    <button class="sort-chip" data-sort="ratingOverall">Î≥ÑÏ†ê</button>
                    <button class="sort-chip" data-sort="ratingPrice">Í∞ÄÍ≤©</button>
                    <button class="sort-chip" data-sort="ratingTaste">Îßõ</button>
                </div>
                <div id="makgeolli-list" class="card-grid">
                    <!-- Cards injected via JS -->
                    <div class="empty-state">
                        <p>ÏïÑÏßÅ Í∏∞Î°ùÎêú ÎßâÍ±∏Î¶¨Í∞Ä ÏóÜÏäµÎãàÎã§.<br>Ïò§Î•∏Ï™Ω ÏïÑÎûò Î≤ÑÌäºÏùÑ ÎàåÎü¨ Ï∂îÍ∞ÄÌï¥Î≥¥ÏÑ∏Ïöî!</p>
                    </div>
                </div>
            </div>

            <div id="add-view" class="view">
                <form id="add-form">
                    <div class="image-upload-container">
                        <div class="image-buttons" id="image-buttons">
                            <button type="button" id="btn-camera" class="btn-select-image">
                                <span>üì∏</span>
                                <span>Ï¥¨ÏòÅ</span>
                            </button>
                            <button type="button" id="btn-gallery" class="btn-select-image">
                                <span>üñºÔ∏è</span>
                                <span>Ïï®Î≤î</span>
                            </button>
                        </div>

                        <!-- Hidden Inputs -->
                        <input type="file" id="input-camera" accept="image/*" capture="environment" hidden>
                        <input type="file" id="input-gallery" accept="image/*" hidden>

                        <img id="image-preview" src="" alt="Preview" hidden>
                        <button type="button" id="remove-image" hidden>√ó</button>
                    </div>

                    <div class="form-group">
                        <label for="name">Ïù¥Î¶Ñ</label>
                        <input type="text" id="name" class="form-input" required placeholder="ÎßâÍ±∏Î¶¨ Ïù¥Î¶Ñ">
                    </div>

                    <div class="form-group">
                        <label for="region">ÏßÄÏó≠</label>
                        <input type="text" id="region" class="form-input" placeholder="Ïñ¥Îäê ÏßÄÏó≠ ÎßâÍ±∏Î¶¨Ïù∏Í∞ÄÏöî?">
                    </div>

                    <div class="form-group">
                        <label for="alcohol">ÎèÑÏàò (%)</label>
                        <input type="number" id="alcohol" class="form-input" step="0.5" value="5" placeholder="ex) 6.5">
                    </div>

                    <div class="form-group">
                        <label>Î≥ÑÏ†ê (Ï†ÑÏ≤¥)</label>
                        <div class="star-rating accent-overall">
                            <input type="radio" id="overall5" name="rating_overall" value="5" checked><label
                                for="overall5">‚òÖ</label>
                            <input type="radio" id="overall4" name="rating_overall" value="4"><label
                                for="overall4">‚òÖ</label>
                            <input type="radio" id="overall3" name="rating_overall" value="3"><label
                                for="overall3">‚òÖ</label>
                            <input type="radio" id="overall2" name="rating_overall" value="2"><label
                                for="overall2">‚òÖ</label>
                            <input type="radio" id="overall1" name="rating_overall" value="1"><label
                                for="overall1">‚òÖ</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Í∞ÄÍ≤©</label>
                        <div class="star-rating">
                            <input type="radio" id="price5" name="rating_price" value="5" checked><label
                                for="price5">‚òÖ</label>
                            <input type="radio" id="price4" name="rating_price" value="4"><label for="price4">‚òÖ</label>
                            <input type="radio" id="price3" name="rating_price" value="3"><label for="price3">‚òÖ</label>
                            <input type="radio" id="price2" name="rating_price" value="2"><label for="price2">‚òÖ</label>
                            <input type="radio" id="price1" name="rating_price" value="1"><label for="price1">‚òÖ</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Îßõ</label>
                        <div class="star-rating">
                            <input type="radio" id="taste5" name="rating_taste" value="5" checked><label
                                for="taste5">‚òÖ</label>
                            <input type="radio" id="taste4" name="rating_taste" value="4"><label for="taste4">‚òÖ</label>
                            <input type="radio" id="taste3" name="rating_taste" value="3"><label for="taste3">‚òÖ</label>
                            <input type="radio" id="taste2" name="rating_taste" value="2"><label for="taste2">‚òÖ</label>
                            <input type="radio" id="taste1" name="rating_taste" value="1"><label for="taste1">‚òÖ</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="memo">Î©îÎ™®</label>
                        <textarea id="memo" class="form-input" rows="3" placeholder="Ïñ¥Îñ§ ÌäπÏßïÏù¥ Îçî ÏûàÎÇòÏöî?"></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="button" id="cancel-btn" class="btn secondary">Ï∑®ÏÜå</button>
                        <button type="submit" class="btn primary">Ï†ÄÏû•</button>
                    </div>
                </form>
            </div>

            <div id="detail-view" class="view">
                <button type="button" id="back-btn" class="btn-icon">‚Üê</button>
                <div class="detail-container">
                    <img id="detail-image" src="" alt="Detail Image">
                    <div class="detail-content">
                        <h2 id="detail-name"></h2>

                        <div class="detail-info-row">
                            <span class="label">ÏßÄÏó≠</span>
                            <span id="detail-region" class="value"></span>
                        </div>

                        <div class="detail-info-row">
                            <span class="label">ÎèÑÏàò</span>
                            <span id="detail-alcohol" class="value"></span>
                        </div>

                        <div class="detail-info-row">
                            <span class="label">Î≥ÑÏ†ê (Ï†ÑÏ≤¥)</span>
                            <span id="detail-rating-overall" class="stars-display-small"></span>
                        </div>
                        <div class="detail-info-row">
                            <span class="label">Í∞ÄÍ≤©</span>
                            <span id="detail-rating-price" class="stars-display-small"></span>
                        </div>
                        <div class="detail-info-row">
                            <span class="label">Îßõ</span>
                            <span id="detail-rating-taste" class="stars-display-small"></span>
                        </div>
                        <p id="detail-memo" class="memo-text"></p>
                        <p id="detail-date" class="date-text"></p>

                        <div class="action-buttons" style="margin-top: 30px;">
                            <button type="button" id="delete-btn" class="btn danger-btn">ÏÇ≠Ï†úÌïòÍ∏∞</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <button id="fab-add" class="fab" aria-label="Ï∂îÍ∞Ä">
            +
        </button>
    </div>

    <script type="module" src="js/app.js?v=4.1"></script>
</body>

</html>